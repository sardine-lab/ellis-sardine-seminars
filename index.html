<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ELLIS‚ÄìSARDINE Seminars</title>

  <!-- Favicon -->
  <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%22100%22>üêü</text></svg>"
  />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'sardine-blue': '#007a94',
            'sardine-light': '#00a4c3',
            'sardine-deep': '#144955',
          },
        },
      },
    };
  </script>

  <!-- Inter font (matches Sardine Lab) -->
  <link
    rel="preconnect"
    href="https://fonts.googleapis.com"
  />
  <link
    rel="preconnect"
    href="https://fonts.gstatic.com"
    crossorigin
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
        'Segoe UI', sans-serif;
    }
  </style>
</head>

<body class="bg-slate-50 text-slate-800">
  <!-- Top bar -->
  <header
    class="bg-gradient-to-r from-sardine-blue via-sardine-light to-sardine-blue text-white shadow-md"
  >
    <div class="max-w-6xl mx-auto px-4 py-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
      <!-- Left: logos + title -->
      <div class="flex items-center gap-4">
        <!-- Sardine Lab logo (replace src if needed) -->
        <!-- <img
          src="figs/logo-dark.png"
          alt="SARDINE Lab logo"
          class="h-12 w-auto drop-shadow-md"
        /> -->
        <!-- ELLIS logo (update src/path as appropriate) -->
        <!-- <img
          src="figs/ellis.png"
          alt="ELLIS logo"
          class="h-10 w-auto hidden sm:inline-block opacity-90"
        /> -->

        <div class="ml-1">
          <h1 class="text-xl sm:text-2xl font-extrabold tracking-tight">
            ELLIS‚ÄìSARDINE Seminars
          </h1>
          <p class="text-xs sm:text-sm text-slate-100/80">
            Weekly talks on Machine Learning &amp; Natural Language Processing
          </p>
        </div>
      </div>

      <!-- Right: quick info -->
      <div class="text-xs sm:text-sm md:text-right space-y-1">
        <p>
          <span class="font-semibold">When:</span>
          Mondays, <span class="font-semibold">17:00</span> Lisbon time
        </p>
        <p>
          <span class="font-semibold">Where:</span>
          Online &amp; Lisbon (hybrid)
        </p>
        <p>
          <a
            href="https://calendar.google.com/calendar/u/0?cid=dDQ3NDl0cnVubzRhaHVlczR0OW9vYm1ncTRAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ"
            target="_blank"
            class="inline-flex items-center px-3 py-1 mt-1 rounded-full bg-white/10 hover:bg-white/20 border border-white/30 text-xs font-medium"
          >
            Add to Google Calendar
          </a>
        </p>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-10 space-y-10">
    <!-- Intro / description -->
    <section>
      <div
        class="rounded-2xl bg-white shadow-sm border border-sardine-blue/10 p-6 sm:p-7 flex flex-col gap-4 md:flex-row md:items-center"
      >
        <div class="flex-1">
          <p class="text-sm leading-relaxed text-slate-700">
            The <span class="font-semibold">ELLIS‚ÄìSARDINE Seminars</span> provide a regular forum
            to discuss research in
            <span class="font-semibold">Machine Learning</span> and
            <span class="font-semibold">Natural Language Processing</span>, featuring speakers
            from around the world. The seminars are organized by members of the
            <a
              href="https://sardine-lab.github.io/"
              class="font-semibold text-sardine-blue hover:underline"
              target="_blank"
              >SARDINE Lab</a
            >
            and the
            <a
              href="https://ellis.eu/research/sites/unit-lisbon"
              class="font-semibold text-sardine-blue hover:underline"
              target="_blank"
              >ELLIS Lisbon Unit</a
            >, and are
            <span class="font-semibold">open to the public</span>.
          </p>

          <p class="mt-3 text-xs sm:text-sm text-slate-500">
            Want to be the next presenter? Reach out to
            <a
              href="https://cmuportugal.org/students/lara-neves/" target="_blank"
              class="text-sardine-blue font-medium hover:underline"
              >Lara Neves</a> or 
              <a
              href="https://sonalsannigrahi.github.io/" target="_blank"
              class="text-sardine-blue font-medium hover:underline"
              >Sonal Sannigrahi</a>.
          </p>
        </div>

        <div
          class="mt-2 md:mt-0 md:ml-6 flex-shrink-0 w-full md:w-64 lg:w-72 rounded-2xl border border-dashed border-sardine-blue/30 bg-sardine-blue/5 px-4 py-3 text-sm text-slate-700"
        >
          <p class="font-semibold text-sardine-blue mb-1">
            ‚òÄÔ∏è Next talk (Lisbon time)
          </p>
          <p id="next-talk" class="text-slate-700">
            Loading next seminar...
          </p>
        </div>
      </div>
    </section>

    <!-- Upcoming seminars -->
    <section aria-labelledby="upcoming-title">
      <div class="flex items-center justify-between mb-3">
        <h2
          id="upcoming-title"
          class="text-xl sm:text-2xl font-bold text-slate-900 flex items-center gap-2"
        >
          Upcoming Seminars
          <span
            id="upcoming-count"
            class="hidden text-xs rounded-full bg-sardine-blue/10 text-sardine-blue px-2 py-0.5 font-medium"
          ></span>
        </h2>
      </div>

      <div class="rounded-2xl bg-white shadow-sm border border-sardine-blue/10">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="bg-gradient-to-r from-sardine-blue to-sardine-light text-white">
                <th class="px-4 py-3 text-left font-semibold">Guest Speaker</th>
                <th class="px-4 py-3 text-left font-semibold">Affiliation</th>
                <th class="px-4 py-3 text-left font-semibold">Talk Title</th>
                <th class="px-4 py-3 text-left font-semibold whitespace-nowrap">
                  Date
                </th>
              </tr>
            </thead>
            <tbody id="upcoming-body">
              <tr>
                <td
                  colspan="4"
                  class="px-4 py-6 text-center text-slate-500 text-sm"
                >
                  Loading seminars...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Past seminars -->
    <section aria-labelledby="past-title">
      <div class="flex items-center justify-between mb-3 mt-10">
        <h2
          id="past-title"
          class="text-xl sm:text-2xl font-bold text-slate-900"
        >
          Past Seminars
        </h2>
      </div>

      <div class="rounded-2xl bg-white shadow-sm border border-sardine-blue/10">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="bg-slate-100 text-slate-700">
                <th class="px-4 py-3 text-left font-semibold">Guest Speaker</th>
                <th class="px-4 py-3 text-left font-semibold">Affiliation</th>
                <th class="px-4 py-3 text-left font-semibold">Talk Title</th>
                <th class="px-4 py-3 text-left font-semibold whitespace-nowrap">
                  Date
                </th>
              </tr>
            </thead>
            <tbody id="past-body">
              <tr>
                <td
                  colspan="4"
                  class="px-4 py-6 text-center text-slate-500 text-sm"
                >
                  No past seminars yet.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="mt-10">
          <p class="text-xs sm:text-sm text-slate-500">Note: We previously organized the IST-Unbabel Seminars, available at <a class="text-sardine-blue font-medium hover:underline" href="https://ist-unbabel-seminars.github.io/index" target="_blank">ist-unbabel-seminars.github.io</a></p>
      </div>

    </section>
  </main>

  <!-- Footer with logos -->
  <footer class="text-slate-100 ">
    <div class="max-w-6xl mx-auto px-4 py-8">
      <div
        class="flex flex-col items-center flex-row justify-between gap-6"
      >
        <div
          class="flex flex-wrap items-center gap-4"
        >
          <img src="figs/logo-light.png" alt="SARDINE Lab logo" class="h-12 w-auto p-1"/>
          <img src="figs/ellis-lisbon.png" alt="ELLIS Lisbon logo" class="h-14 w-auto p-1" />
          <img src="figs/tecnico.png" alt="Instituto Superior T√©cnico logo" class="h-12 w-auto p-1" />
        </div>
      </div>
    </div>
  </footer>


  <script src="seminars.js"></script>

  <!-- Seminar loading logic -->
  <script>
      function formatDate(dateString) {
        const d = new Date(dateString);
        if (Number.isNaN(d.getTime())) return dateString;
        return d.toLocaleDateString('en-GB', {
          day: 'numeric',
          month: 'short',
          year: 'numeric',
        });
      }

      function isPast(dateString) {
        const d = new Date(dateString);
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        return d < today;
      }

      function loadSeminars() {
        try {
          const seminars = SEMINARS.slice();
          const upcoming = [];
          const past = [];

          seminars.forEach((s) => {
            const status = (s.status || '').toLowerCase();
            if (status === 'upcoming') {
              upcoming.push(s);
            } else if (status === 'past') {
              past.push(s);
            } else if (isPast(s.date)) {
              past.push(s);
            } else {
              upcoming.push(s);
            }
          });

          upcoming.sort((a, b) => new Date(a.date) - new Date(b.date));
          past.sort((a, b) => new Date(b.date) - new Date(a.date));

          const upcomingBody = document.getElementById('upcoming-body');
          const pastBody = document.getElementById('past-body');
          const upcomingCount = document.getElementById('upcoming-count');
          const nextTalkEl = document.getElementById('next-talk');

          // Upcoming
          if (upcoming.length) {
            upcomingBody.innerHTML = upcoming
              .map(
                (s, idx) => `
              <tr class="${
                idx === 0
                  ? 'bg-sardine-blue/5'
                  : 'odd:bg-slate-50/60 hover:bg-slate-100/60'
              } transition-colors">
                <td class="px-4 py-3 whitespace-nowrap font-medium text-slate-900">
                  ${s.speaker}
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-slate-700">
                  ${s.affiliation || ''}
                </td>
                <td class="px-4 py-3 text-slate-700">
                  ${s.title || ''}
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-sardine-blue font-semibold">
                  ${formatDate(s.date)}
                </td>
              </tr>`
              )
              .join('');

            upcomingCount.textContent = upcoming.length;
            upcomingCount.classList.remove('hidden');

            const next = upcoming[0];
            nextTalkEl.textContent =
              next.speaker && next.title
                ? `${formatDate(next.date)} ‚Äî ${next.speaker}: ‚Äú${next.title}‚Äù`
                : formatDate(next.date);
          } else {
            upcomingBody.innerHTML = `
              <tr>
                <td colspan="4" class="px-4 py-6 text-center text-slate-500 text-sm">
                  No upcoming seminars scheduled. Please check back soon!
                </td>
              </tr>`;
            nextTalkEl.textContent = 'No upcoming seminar scheduled.';
          }

          // Past
          if (past.length) {
            pastBody.innerHTML = past
              .map(
                (s) => `
              <tr class="odd:bg-slate-50/40 hover:bg-slate-100/60 transition-colors">
                <td class="px-4 py-3 whitespace-nowrap font-medium text-slate-900">
                  ${s.speaker}
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-slate-700">
                  ${s.affiliation || ''}
                </td>
                <td class="px-4 py-3 text-slate-700">
                  ${s.title || ''}
                </td>
                <td class="px-4 py-3 whitespace-nowrap text-slate-500">
                  ${formatDate(s.date)}
                </td>
              </tr>`
              )
              .join('');
          }
        } catch (err) {
          console.error('Error loading seminars:', err);
          document.getElementById('upcoming-body').innerHTML = `
            <tr>
              <td colspan="4" class="px-4 py-6 text-center text-red-500 text-sm">
                Failed to load seminars.
              </td>
            </tr>`;
        }
      }

      loadSeminars();
    </script>
</body>
</html>
