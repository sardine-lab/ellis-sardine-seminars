<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ELLISâ€“SARDINE Seminars</title>

  <!-- Favicon -->
  <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%22100%22>ğŸŸ</text></svg>"
  />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'sardine-blue': '#007a94',
            'sardine-light': '#00a4c3',
            'sardine-deep': '#144955',
          },
        },
      },
    };
  </script>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

  <style>
    body {
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
        'Segoe UI', sans-serif;
    }
    
    /* Smooth animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    /* Title text */
    .title-text {
      color: #007a94;
    }

    /* Card hover effect */
    .seminar-card {
      transition: all 0.3s ease;
    }
    
    .seminar-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(0, 122, 148, 0.15);
    }
  </style>
</head>

<body class="bg-gradient-to-br from-slate-50 via-white to-slate-50 text-slate-800">
  
  <!-- Header - Cleaner & More Modern -->
  <header class="bg-white border-b border-slate-200 shadow-sm sticky top-0 z-50 backdrop-blur-sm bg-white/95">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <!-- Left: Title -->
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-sardine-blue to-sardine-light text-white text-2xl shadow-md">
            ğŸŸ
          </div>
          <div>
            <h1 class="text-2xl sm:text-3xl font-bold title-text">
              ELLISâ€“SARDINE Seminars
            </h1>
            <p class="text-sm text-slate-600 mt-0.5">
              ML & NLP Research Talks
            </p>
          </div>
        </div>

        <!-- Right: Quick info -->
        <div class="flex flex-wrap gap-4 sm:gap-6 text-sm">
          <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-lg bg-sardine-blue/10 flex items-center justify-center">
              <span class="text-lg">ğŸ“…</span>
            </div>
            <div>
              <p class="text-xs text-slate-500 font-medium">When</p>
              <p class="font-semibold text-slate-800">Mon, 17:00 Lisbon</p>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-lg bg-sardine-blue/10 flex items-center justify-center">
              <span class="text-lg">ğŸ“</span>
            </div>
            <div>
              <p class="text-xs text-slate-500 font-medium">Where</p>
              <p class="font-semibold text-slate-800">Hybrid (Lisbon)</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 space-y-12">
    
    <!-- About -->
    <section class="animate-fade-in">
      <div class="rounded-2xl bg-white shadow-md border border-slate-200 p-6 sm:p-8">
        <p class="text-base leading-relaxed text-slate-700">
          The <span class="font-semibold text-sardine-blue">ELLISâ€“SARDINE Seminars</span> provide a regular forum
          to discuss research in
          <span class="font-semibold">Machine Learning</span> and
          <span class="font-semibold">Natural Language Processing</span>, featuring speakers
          from around the world. Organized by the
          <a
            href="https://sardine-lab.github.io/"
            class="font-semibold text-sardine-blue hover:text-sardine-light transition-colors underline decoration-sardine-blue/30 hover:decoration-sardine-light"
            target="_blank"
            >SARDINE Lab</a
          >
          and
          <a
            href="https://ellis.eu/research/sites/unit-lisbon"
            class="font-semibold text-sardine-blue hover:text-sardine-light transition-colors underline decoration-sardine-blue/30 hover:decoration-sardine-light"
            target="_blank"
            >ELLIS Lisbon Unit</a
          >, and
          <span class="font-semibold">open to the public</span>.
        </p>

        <div class="mt-6 pt-6 border-t border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-sardine-blue/10 flex items-center justify-center flex-shrink-0">
              <span class="text-xl">ğŸ¤</span>
            </div>
            <p class="text-sm text-slate-600">
              Want to present? Contact
              <a
                href="https://cmuportugal.org/students/lara-neves/"
                target="_blank"
                class="text-sardine-blue font-medium hover:underline"
                >Lara Neves</a
              >
              or
              <a
                href="https://sonalsannigrahi.github.io/"
                target="_blank"
                class="text-sardine-blue font-medium hover:underline"
                >Sonal Sannigrahi</a
              >
            </p>
          </div>
          <a 
            href="https://meet.google.com/oeq-ctgn-twn"
            target="_blank"
            class="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-sardine-blue text-white font-semibold hover:bg-sardine-light transition-colors shadow-md hover:shadow-lg"
          >
            <span class="text-lg">ğŸ–¥ï¸</span>
            Join on Google Meet
          </a>
        </div>
      </div>
    </section>

    <!-- Upcoming seminars -->
    <section aria-labelledby="upcoming-title">
      <div class="flex items-center justify-between mb-6">
        <h2 id="upcoming-title" class="text-2xl sm:text-3xl font-bold text-slate-900 flex items-center gap-3">
          <span class="text-2xl">ğŸ“…</span>
          Upcoming Seminars
          <span
            id="upcoming-count"
            class="hidden text-sm rounded-full bg-sardine-blue/10 text-sardine-blue px-3 py-1 font-semibold"
          ></span>
        </h2>
      </div>

      <!-- Desktop table -->
      <div class="hidden lg:block rounded-2xl bg-white shadow-md border border-slate-200 overflow-hidden">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="bg-gradient-to-r from-sardine-blue to-sardine-light text-white">
                <th class="px-6 py-4 text-left font-semibold">Guest Speaker</th>
                <th class="px-6 py-4 text-left font-semibold">Affiliation</th>
                <th class="px-6 py-4 text-left font-semibold">Talk Title</th>
                <th class="px-6 py-4 text-left font-semibold whitespace-nowrap">Date</th>
                <th class="px-6 py-4 text-center font-semibold">Resources</th>
              </tr>
            </thead>
            <tbody id="upcoming-body-desktop">
              <tr>
                <td colspan="5" class="px-6 py-8 text-center text-slate-500 text-sm">
                  Loading seminars...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Mobile cards -->
      <div class="lg:hidden space-y-4" id="upcoming-cards-mobile">
        <div class="text-center py-8 text-slate-500 text-sm">
          Loading seminars...
        </div>
      </div>
    </section>

    <!-- Past seminars -->
    <section aria-labelledby="past-title">
      <div class="flex items-center justify-between mb-6 mt-16">
        <h2 id="past-title" class="text-2xl sm:text-3xl font-bold text-slate-900 flex items-center gap-3">
          <span class="text-2xl">ğŸ“</span>
          Past Seminars
        </h2>
      </div>

      <!-- Desktop table -->
      <div class="hidden lg:block rounded-2xl bg-white shadow-md border border-slate-200 overflow-hidden">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="bg-slate-100 text-slate-700">
                <th class="px-6 py-4 text-left font-semibold">Guest Speaker</th>
                <th class="px-6 py-4 text-left font-semibold">Affiliation</th>
                <th class="px-6 py-4 text-left font-semibold">Talk Title</th>
                <th class="px-6 py-4 text-left font-semibold whitespace-nowrap">Date</th>
                <th class="px-6 py-4 text-center font-semibold">Resources</th>
              </tr>
            </thead>
            <tbody id="past-body-desktop">
              <tr>
                <td colspan="5" class="px-6 py-8 text-center text-slate-500 text-sm">
                  No past seminars yet.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Mobile cards -->
      <div class="lg:hidden space-y-4" id="past-cards-mobile">
        <div class="text-center py-8 text-slate-500 text-sm">
          No past seminars yet.
        </div>
      </div>

      <div class="mt-8">
          <p class="text-sm text-slate-600">
            We previously organized the IST-Unbabel Seminars, available at <a class="text-sardine-blue font-medium hover:underline" href="https://ist-unbabel-seminars.github.io/index" target="_blank">ist-unbabel-seminars.github.io</a>.
          </p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-slate-100 border-t border-slate-200 mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="flex flex-col items-center gap-8">
        <div class="flex flex-wrap items-center justify-center gap-8">
          <img src="figs/ellis-lisbon.png" alt="ELLIS Lisbon logo" class="h-14 w-auto opacity-80 hover:opacity-100 transition-opacity" />
          <img src="figs/logo-light.png" alt="SARDINE Lab logo" class="h-14 w-auto opacity-80 hover:opacity-100 transition-opacity" />
          <img src="figs/tecnico.png" alt="Instituto Superior TÃ©cnico logo" class="h-14 w-auto opacity-80 hover:opacity-100 transition-opacity" />
        </div>
        <!-- <div class="text-center text-sm text-slate-500">
          <p>Â© ELLISâ€“SARDINE Seminars</p>
        </div> -->
      </div>
    </div>
  </footer>

  <script src="seminars.js"></script>

  <!-- Seminar loading logic -->
  <script>
    function formatDate(dateString) {
      const d = new Date(dateString);
      if (Number.isNaN(d.getTime())) return dateString;
      return d.toLocaleDateString('en-GB', {
        day: 'numeric',
        month: 'short',
        year: 'numeric',
      });
    }

    function isPast(dateString) {
      const d = new Date(dateString);
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      return d < today;
    }

    function createSeminarCard(s, isNext = false) {
      const cardClass = isNext 
        ? 'seminar-card rounded-2xl bg-gradient-to-br from-sardine-blue/5 to-sardine-light/5 border-2 border-sardine-blue/20 p-5 shadow-md'
        : 'seminar-card rounded-xl bg-white border border-slate-200 p-5 shadow-sm';
      
      const speakerName = s.speaker_url 
        ? `<a href="${s.speaker_url}" target="_blank" class="hover:underline">${s.speaker || 'TBA'}</a>`
        : (s.speaker || 'TBA');

      const resources = [];
      if (s.slides_url) {
        resources.push(`<a href="${s.slides_url}" target="_blank" class="inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-sm font-medium">
          ğŸ“Š Slides
        </a>`);
      }
      if (s.paper_url) {
        resources.push(`<a href="${s.paper_url}" target="_blank" class="inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-sm font-medium">
          ğŸ“„ Paper
        </a>`);
      }
      const resourcesHtml = resources.length 
        ? `<div class="flex flex-wrap gap-2 pt-3 border-t border-slate-200">${resources.join('')}</div>`
        : '';
      
      return `
        <div class="${cardClass}">
          <div class="flex flex-col gap-3">
            <div class="flex items-start justify-between gap-3">
              <div class="flex-1">
                <h3 class="font-bold text-lg text-slate-900">${speakerName}</h3>
                <p class="text-sm text-slate-600 mt-0.5">${s.affiliation || 'TBA'}</p>
              </div>
              <div class="flex-shrink-0">
                <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold ${
                  isNext 
                    ? 'bg-sardine-blue text-white' 
                    : 'bg-slate-100 text-slate-700'
                }">
                  ${formatDate(s.date)}
                </span>
              </div>
            </div>
            <div class="pt-3 border-t border-slate-200">
              <p class="text-sm text-slate-700 leading-relaxed">
                ${s.title || 'Title TBA'}
              </p>
            </div>
            ${resourcesHtml}
          </div>
        </div>
      `;
    }

    function loadSeminars() {
      try {
        const seminars = SEMINARS.slice();
        const upcoming = [];
        const past = [];

        seminars.forEach((s) => {
          const status = (s.status || '').toLowerCase();
          if (status === 'upcoming') {
            upcoming.push(s);
          } else if (status === 'past') {
            past.push(s);
          } else if (isPast(s.date)) {
            past.push(s);
          } else {
            upcoming.push(s);
          }
        });

        upcoming.sort((a, b) => new Date(a.date) - new Date(b.date));
        past.sort((a, b) => new Date(b.date) - new Date(a.date));

        const upcomingBodyDesktop = document.getElementById('upcoming-body-desktop');
        const upcomingCardsMobile = document.getElementById('upcoming-cards-mobile');
        const pastBodyDesktop = document.getElementById('past-body-desktop');
        const pastCardsMobile = document.getElementById('past-cards-mobile');
        const upcomingCount = document.getElementById('upcoming-count');

        // Upcoming
        if (upcoming.length) {
          // Desktop table
          upcomingBodyDesktop.innerHTML = upcoming
            .map(
              (s, idx) => {
                const speakerName = s.speaker_url 
                  ? `<a href="${s.speaker_url}" target="_blank" class="hover:underline">${s.speaker || 'TBA'}</a>`
                  : (s.speaker || 'TBA');
                
                const resources = [];
                if (s.slides_url) {
                  resources.push(`<a href="${s.slides_url}" target="_blank" class="inline-flex items-center gap-1 px-2 py-1 rounded-md bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-xs font-medium">
                    ğŸ“Š Slides
                  </a>`);
                }
                if (s.paper_url) {
                  resources.push(`<a href="${s.paper_url}" target="_blank" class="inline-flex items-center gap-1 px-2 py-1 rounded-md bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-xs font-medium">
                    ğŸ“„ Paper
                  </a>`);
                }
                const resourcesHtml = resources.length 
                  ? resources.join(' ')
                  : '<span class="text-slate-400 text-xs">â€”</span>';

                return `
            <tr class="${
              idx === 0
                ? 'bg-sardine-blue/5'
                : 'odd:bg-slate-50/60 hover:bg-slate-100/60'
            } transition-colors">
              <td class="px-6 py-4 whitespace-nowrap font-semibold text-slate-900">
                ${speakerName}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-slate-700">
                ${s.affiliation || 'TBA'}
              </td>
              <td class="px-6 py-4 text-slate-700">
                ${s.title || 'Title TBA'}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sardine-blue font-semibold">
                ${formatDate(s.date)}
              </td>
              <td class="px-6 py-4 text-center">
                <div class="flex items-center justify-center gap-2">
                  ${resourcesHtml}
                </div>
              </td>
            </tr>`;
              }
            )
            .join('');

          // Mobile cards
          upcomingCardsMobile.innerHTML = upcoming
            .map((s, idx) => createSeminarCard(s, idx === 0))
            .join('');

          upcomingCount.textContent = upcoming.length;
          upcomingCount.classList.remove('hidden');
        } else {
          upcomingBodyDesktop.innerHTML = `
            <tr>
              <td colspan="5" class="px-6 py-8 text-center text-slate-500 text-sm">
                No upcoming seminars scheduled. Please check back soon!
              </td>
            </tr>`;
          upcomingCardsMobile.innerHTML = `
            <div class="text-center py-8 text-slate-500 text-sm rounded-xl bg-white border border-slate-200 p-6">
              No upcoming seminars scheduled. Please check back soon!
            </div>`;
        }

        // Past
        if (past.length) {
          // Desktop table
          pastBodyDesktop.innerHTML = past
            .map(
              (s) => {
                const speakerName = s.speaker_url 
                  ? `<a href="${s.speaker_url}" target="_blank" class="hover:underline">${s.speaker || 'TBA'}</a>`
                  : (s.speaker || 'TBA');
                
                const resources = [];
                if (s.slides_url) {
                  resources.push(`<a href="${s.slides_url}" target="_blank" class="inline-flex items-center gap-1 px-2 py-1 rounded-md bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-xs font-medium">
                    ğŸ“Š Slides
                  </a>`);
                }
                if (s.paper_url) {
                  resources.push(`<a href="${s.paper_url}" target="_blank" class="inline-flex items-center gap-1 px-2 py-1 rounded-md bg-sardine-blue/10 text-sardine-blue hover:bg-sardine-blue hover:text-white transition-colors text-xs font-medium">
                    ğŸ“„ Paper
                  </a>`);
                }
                const resourcesHtml = resources.length 
                  ? resources.join(' ')
                  : '<span class="text-slate-400 text-xs">â€”</span>';

                return `
            <tr class="odd:bg-slate-50/40 hover:bg-slate-100/60 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap font-semibold text-slate-900">
                ${speakerName}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-slate-700">
                ${s.affiliation || 'TBA'}
              </td>
              <td class="px-6 py-4 text-slate-700">
                ${s.title || 'Title TBA'}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-slate-500">
                ${formatDate(s.date)}
              </td>
              <td class="px-6 py-4 text-center">
                <div class="flex items-center justify-center gap-2">
                  ${resourcesHtml}
                </div>
              </td>
            </tr>`;
              }
            )
            .join('');

          // Mobile cards
          pastCardsMobile.innerHTML = past
            .map((s) => createSeminarCard(s, false))
            .join('');
        } else {
          pastCardsMobile.innerHTML = `
            <div class="text-center py-8 text-slate-500 text-sm rounded-xl bg-white border border-slate-200 p-6">
              No past seminars yet.
            </div>`;
        }
      } catch (err) {
        console.error('Error loading seminars:', err);
        document.getElementById('upcoming-body-desktop').innerHTML = `
          <tr>
            <td colspan="5" class="px-6 py-8 text-center text-red-500 text-sm">
              Failed to load seminars. Make sure seminars.js is present.
            </td>
          </tr>`;
        document.getElementById('upcoming-cards-mobile').innerHTML = `
          <div class="text-center py-8 text-red-500 text-sm rounded-xl bg-white border border-red-200 p-6">
            Failed to load seminars. Make sure seminars.js is present.
          </div>`;
      }
    }

    loadSeminars();
  </script>
</body>
</html>